<!DOCTYPE html>
<html lang="pt-br"">
<head>
    <meta charset=" UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alunos</title>
</head>

<body>
   <h1><%= instrumento ? `Alunos de ${instrumento}`:`Todos os alunos`%></h1> <!--Lógica para mostrar o título dependendo do conteúdo da página-->

    <!-- formulário para filtrar os alunos por instrumento na página principal (index.ejs) -->
    <!-- o form manda um get request como nome do instrumento selecionado na option numa query "?instrumento=..." -->

   <form action="/alunos" method="GET">
   <label for="instrumento">Instrumento: </label>
    <select name="instrumento" id="instrumento">
       <option value="">Todos os instrumentos</option>  <!--opção para selecionar todos os intrumentos, não envia nada na query -->
        
            <% for (let inst of instrumentos) { %>
                <option value="<%= inst%>" <%= inst === instrumento ? 'selected':'' %>> <%= inst%>  </option>
            <% } %>

    </select>

        <button>Filtrar</button>
    </form>

    <ul>
        <% for (let aluno of alunos) { %>
            <li><a href="/alunos/<%= aluno._id %>">
                    <%= aluno.nome %>
                </a></li>
        <% } %>
    </ul>
    <a href="/alunos/novo">Novo aluno</a>

   
</body>

</html>